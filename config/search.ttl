@prefix stage: <http://localhost:8080/schooltaal/stage#>.

@prefix elmo: <http://bp4mc2.org/elmo/def#>.
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.

stage:Search	a	elmo:Representation;
	elmo:url-pattern	"/query/search$";
	elmo:contains	stage:Menu;
	elmo:fragment [
    elmo:applies-to "type";
    rdfs:label "Type";
    elmo:name "SUBJECT";
  ];
  elmo:fragment [
    elmo:applies-to "s";
    rdfs:label "Zoekresultaat";
    elmo:name "SUBJECT";
  ];
	elmo:fragment [
    elmo:applies-to "search";
    rdfs:label "Zoekvraag";
  ];
	elmo:query '''
		select ?type ?s ?s_label ("@TERM@" as ?search)
		where {
			graph <http://linkeddata.ordina.nl/schooltaal/container/data> {
				?s a ?type.
				?s rdfs:label ?s_label.
				FILTER regex(?s_label,"@TERM@","i")
      }
		}
		order by ?s_label
	'''
.
